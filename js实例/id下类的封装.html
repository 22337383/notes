<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
<div id="demo">
	<div></div>
	<div class="box"></div>
	<div></div>
	<div></div>
	<div class="box"></div>
	<div class="box demo"></div>
	<div class="one box demo"></div>
	<div></div>
	<div></div>
	<div></div>
</div>
	<script type="text/javascript">
	getClass("box","demo");
	console.log(getClass("box","demo").length);
	function getClass(classname,id){
		//如果支持getElementsByClassName的情况下
		if(document.getElementsByClassName){
			if(id){
			var getId = document.getElementById(id);
			return getId.getElementsByClassName(classname);
			}
			
		}else{
			//不存在id 
			return document.getElementsByClassName(classname);
		}
		//如果不支持getElementsByClassName的情况下
		if(id){
			// 存在id
			var getId = document.getElementById(id);
			var allTags = getId.getElementsByTagName("*");
		}else{
			// 不存在id
			var allTags = document.getElementsByTagName("*");
		}

		for (var i = 0; i < allTags.length; i++) {
			var arr = [];
			//重点：把所有的标签转为数组，遍历数组获取class，最后存入数组
			var zhuahuan = allTags[i].className.split();
			for (var i = 0; i < zhuahuan.length; i++) {
				if(zhuahuan[i].className == classname){
					arr.push(allTags[i]);
				}
			}
		}
		return arr;
	}
	</script>
</body>
</html>