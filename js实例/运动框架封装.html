
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
<style type="text/css">
*{
	padding: 0;
	margin: 0;
}
	#box{
		width: 100px;
		height: 100px;
		background: green;
		position: absolute;
		left: 0;
	}
</style>
</head>
<body>
<button id="btn1">200</button>
<button id="btn2">400</button>
<div id="box"></div>
<script type="text/javascript">
	function $(id){return document.getElementById(id);}
	$("btn1").onclick = function(){
		animate($("box"),"width",500);
	}
	$("btn2").onclick = function(){
		animate($("box"),"left",100);
	}

 	// var timer = null;
	function animate(obj,attr,target){
		clearInterval(obj.timer);
		obj.timer = setInterval(function (){
			var current = parseInt(getStyle(obj,attr));
			// console.log(current)
			// 获得当前样式
			var step = (target - current) / 10;
			step = step > 0 ? Math.ceil(step) : Math.floor(step);
			// 动画部分
			obj.style[attr] = step + current + "px";
			if(current == target )
             {
                 clearInterval(obj.timer);
             }
		},30)
	}
	
		// 获得当前样式函数
		function getStyle(obj,attr){
			// ie + opera
			if (obj.currentStyle) {
				return obj.currentStyle[attr];
			}else {// w3c官方
				return window.getComputedStyle(obj,null)[attr];
			}
		}
	</script>
</body>
</html>